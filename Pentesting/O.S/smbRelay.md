<p align="center">
  <a href="https://github.com/DenverCoder1/readme-typing-svg"><img src="https://readme-typing-svg.herokuapp.com?color=003CF7&width=480&lines=Envenenamiento+LMMNR%2FNBT-NS+%5BSMB-Relay%5D"></a>
</p>

<h1 align="center"></h1>

El ataque SMB Relay es un ataque muy utilizado para ganar acceso a equipos privilegiados y no privilegiados. En las redes existen sistemas automatizados que se conectan a otros equipos para realizar diversas tareas tipo: backups, actualizar antivirus y controladores, revisar inventario del software instalado y demás. Dichos sistemas para conectarse a otros equipos necesitan proveer a los mismos las credenciales válidas para llevar a cabo la autenticación. Y aquí es donde viene lo jugoso, el atacante lo que hace es interceptar las conexiones entre esos sistemas (con su dirección IP interna/local) para capturar el usuario y contraseña, en el caso de la contraseña, viajará hasheada.

La autenticación se realiza por medio del protocolo NTLM, mismo que contiene un hash para almacenar las contraseñas de sistemas Windows.

![1](https://user-images.githubusercontent.com/75953873/180976862-a5c4eaf9-7d77-4768-8f39-f9865e771f35.png)

Ataque intermediario (**MITM**) - Envenenamiento

`User A`: Envía un mensaje de autenticación al `User B`

`Atacante`: Intercepta primero el mensaje y lo pasa al `User B`

`User B`: Recibe el mensaje y envía el desafío encriptado en un hash hacia el `User A`

`User A`: Resuelve el desafío y lo envía hacia el `User B`

`Atacante`: Intercepta el desafío (**hash**)

`User B`: Decide si otorgar acceso o denegarlo.

El atacante graba el Hash-SMB para luego crackear el login por fuerza bruta.
<h1 align="center"></h1>
