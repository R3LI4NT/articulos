<p align="center">
  <a href="https://github.com/DenverCoder1/readme-typing-svg"><img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&pause=1000&color=D1F700&width=630&lines=Ataque+de+Fuerza+Bruta+Login+Page+con+Burp+Suite"></a>
</p>

<h1 align="center"></h1>

<h3 align="center"><ins>ATAQUE de FUERZA BRUTA</ins></h3>

La fuerza bruta es descrita como un método para recuperar claves, nombres de usuarios o directorios de un servidor web probando todas las combinaciones posibles. Para llevar a cabo el ataque, el atacante hace uso de un diccionario (documento de texto con salto de línea) en donde registra las posibles contraseñas débiles para descifrarla y ganar acceso. Dependiendo la herramienta, el procesador del equipo y el diccionario a utilizar, adivinar la contraseña requiere de mucho tiempo si no se cuenta con una enumeración detallada (palabras claves, caracteres especiales, números, símbolos, etc) que pueda dar con la misma. La fuerza bruta no es solo empleada para adivinar claves Wi-Fi, sino también para acceder a cuentas personales en redes sociales o bancos. En el caso de las redes sociales no es muy eficaz, pues, la mayoría de ellas cuentan con un sistema de protección y/o autenticación que límita el acceso a usuarios malintencionados (sobre todo para evitar que entren bots), dejando el ataque inutilizable; muchas veces se utilizan **user-agents** para simular las peticiones HTTP desde dispositivos diferentes.

<ins>**Tipos de ataques de fuerza bruta:**</ins>

- Ataque por Diccionario: Su lógica es muy sencilla, consiste en probar todas las palabras del diccionario hasta averiguar con la contraseña. Este método de cracking es poco eficaz si la contraseña es muy fuerte (combinaciones de caracteres especiales y/o muy larga). En Internet hay diccionarios públicos para utilizar, la mayoría de ellos traen contraseñas débiles y más utilizadas que han sido recolectadas por usuarios (Ej: <a href="https://github.com/praetorian-inc/Hob0Rules/blob/master/wordlists/rockyou.txt.gz">rockyou</a>). Lo recomedable para llevar este ataque y tener éxito es crear un diccionario propio donde combinemos datos personales del objetivo (edad, nombres, direcciones, números teléfonicos, fechas, pasatiempos, gustos, etc). Si la víctima habla español, es una perdida de tiempo utilizar diccionarios con palabras en inglés (Ej: hello, john, iloveyou, etc) y tampoco utilizarían contraseñas fáciles de descifrar (Ej: nombre1234, fecha-de-cumpleaños, nombre-de-su-mascota123, etc). Un ataque de diccionario difícilmente tiene éxito si la contraseña es una frase larga.

- Ataque de Tabla Arcoíris: Las rainbow tables (tablas arcoíris) son las más potentes para cracking de hash. Suele utilizarse para romper contraseñas que han sido cifradas en un hash, parten desde un conjunto enorme de hashes precalculados que se combinan entre sí en todos los caracteres especiales, letras y símbolos. En una tabla arcoíris puede caber más de 100.000 palabras en una sola fila, el valor del hash de un servidor web se compara con la lista de valores hash de la tabla Rainbow, el texto se compara con la contraseña a descifrar. El hash se reduce para obtener el siguiente texto original en la cadena, se recorre toda la cadena hasta llegar a un valor hash que coincida con la contraseña. Las Rainbow Tables son específicas con los caracteres empleados en la contraseña, es decir, si una contraseña es demasiada larga o utiliza caracteres que no están en la tabla, entonces no puede ser descifrada; normalmente pueden contener miles de millones de hashes. 

- Ataque Inverso (password spraying): En este caso se empieza por el final. El atacante empieza con una contraseña conocida e irá probando con una lista de miles de usuarios hasta encontrar una coincidencia. Para ello, necesitará recolectar en Internet una base de datos pública que contenga nombre de usuarios filtrados.

<p align="center">
  <img src="https://github.com/R3LI4NT/articulos/blob/main/Pentesting/WEB/img/bruteForce.png">
</p>

<h1 align="center"></h1>

### Brute Force Login Page | Burp Suite

Burp Suite es una poderosa herramienta escrita en Java que permite realizar pruebas de seguridad de aplicaciones web, cuenta con una versión gratuita y de paga. Su función básica se encuentra en el servidor proxy que permite interceptar el tráfico entre el navegador y aplicación destino, el cual posibilita inspeccionarlo y modificarlo. 

Para este escenario voy a utilizar la máquina de <a href="https://github.com/R3LI4NT/ctf-retos/blob/main/1-%20Maquinas-Easy/Metasploitable_2.md">Metasploitable 2</a>, en la cual tiene un panel de login que podemos usar para practicar la fuerza bruta.

![1](https://github.com/R3LI4NT/articulos/assets/75953873/9f3f32c4-9eea-4e53-975f-a27c548369b5)

Antes que nada, hay que ir al apartado de `Configuraciones` del navegador **>** `Network Settings` y copiar lo siguiente:

| Manual Proxy | Valor |
| ------------- | ------------- |
| HTTP Proxy | 127.0.0.1  |
| Port  | 8080 |

![2](https://github.com/R3LI4NT/articulos/assets/75953873/3e971371-726f-48c8-a793-bd5ef075f9c9)

En la pestaña de `Proxy` de Burp Suite tienen que tener estos valores configurado (por defecto) **>** `ProxySettings`.

![3](https://github.com/R3LI4NT/articulos/assets/75953873/5d1a8f91-f21e-4dfb-9431-55dfaacce3c9)

Lo primero que haremos será introducir un usuario y contraseña aleatorio, teniendo el intercep en modo `ON`.

![2](https://github.com/R3LI4NT/articulos/assets/75953873/a3aa7c33-edc5-46f4-8dd6-924ddda69465)

![3](https://github.com/R3LI4NT/articulos/assets/75953873/c360466c-3975-42c1-aa5d-837d5348a484)

Desde Burp Suite se captura la petición.

![4](https://github.com/R3LI4NT/articulos/assets/75953873/a1651027-af91-4596-9478-fa910432d1f7)

Luego, le damos en `Forward` para enviar la petición.

![5](https://github.com/R3LI4NT/articulos/assets/75953873/42716d6e-00b7-4af9-af0a-1e923d18b07a)

Nos dará un error de credenciales. En Burp Suite nos dirijimos a `Proxy` **>** `HTTP History` y en la petición hacemos clíc derecho y lo enviamos al módulo `Intruder`.

![6](https://github.com/R3LI4NT/articulos/assets/75953873/338984e8-d291-4823-9472-323448261d2d)

En el módulo `Intruder` nos ubicamos en `Positions`, limpiamos haciendo clíc en `Clear§`. Seleccionamos el usuario y le damos en `Add§`, lo mismo con la contraseña.

![7](https://github.com/R3LI4NT/articulos/assets/75953873/994fb6cc-32df-4404-810b-788866dd69ba)

En el "tipo de ataque" seleccionamos modo `Cluster bomb`, este modo permite ir iterando en ambas posiciones del diccionario para probar todas las combinaciones. 

![8](https://github.com/R3LI4NT/articulos/assets/75953873/f9a8f688-0029-418c-aeb7-5bacf2e82067)

Luego de haber hecho lo anterior, nos dirijimos nuevamente a `Intruder` **>** `Payloads`. El Payload 1 indica que el primer diccionario es para descubrir el usuario y en el tipo de payloads lo dejamos en lista simple.

![9](https://github.com/R3LI4NT/articulos/assets/75953873/56846539-5a43-46dc-b589-deb4bddab61b)

Ya deberíamos contar con un diccionario propio o descargar uno. Por ejemplo, <a href="https://github.com/danielmiessler/SecLists">SecList</a> es un repositorio completo que contiene muchos diccionarios de usuarios, contraseñas, payloads, etc.

![10](https://github.com/R3LI4NT/articulos/assets/75953873/f8954635-d32e-4513-abdf-24fc469132ad)

![11](https://github.com/R3LI4NT/articulos/assets/75953873/bb281016-8fcd-4b02-b518-a567d0e815ae)

En la posición de Payload 2 indicamos el segundo diccionario para descubrir la contraseña.

![12](https://github.com/R3LI4NT/articulos/assets/75953873/b846756b-eaa2-4d10-bcff-e08b4fb079ab)

El siguiente paso será ir a `Intruder` **>** `Payloads` **>** `Settings` y en la sección de "Grep Match" damos en **Clear**. En "Add" agregamos un mensaje que devolverá si la contraseña o usuario es incorrecta.

![13](https://github.com/R3LI4NT/articulos/assets/75953873/a936a98a-e435-487f-b6b0-b6f8dd42b47b)

Y por último, desactivan el proxy `Intercep OFF`, y en `Intruder` le dan a "**Start Attack**".

![14](https://github.com/R3LI4NT/articulos/assets/75953873/773fabb5-f57e-4896-8f07-c648cce9041f)

Cuando el valor es "1" significa que el usuario o la contraseña son inválidas, pero cuando no, es porque fue descubierta. En este caso la línea 25 me indica que el usuario "**admin**" y contraseña "**password**" son válidos.

![15](https://github.com/R3LI4NT/articulos/assets/75953873/3787599f-f853-41c3-90c6-c78f69da4b80)

