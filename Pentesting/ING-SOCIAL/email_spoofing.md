<p align="center">
  <a href="https://github.com/DenverCoder1/readme-typing-svg"><img src="https://readme-typing-svg.herokuapp.com?color=D1F700&width=352&lines=Email+Spoofing+%2B+Phishing"></a>
</p>

<h1 align="center"></h1>

<h3 align="center">¿Qué es la Ingeniería Social?</h3>

La ingeniería social es un conjunto de técnicas de obtención de información confidencial a través de la manipulación, es el arte del engaño humano. Se basa en habilidades sociales para contemplar el acceso a un sistema, ejecutar cierta acción elaborada, suplantar identidad, entre otras. La ingeniería social es la vulnerabilidad que más provecho se le saca, después de todo, la capa 8 es el eslabón más débil (el **usuario**). 

<ins>Existen diferentes tipos de ataques de ingeniería social:</ins>

**Phishing:** Es un ataque fraudulento, consiste en convencer a la víctima de ingresar sus datos en un enlace proporcionado por el atacante, el ataque puede ser llevado a cabo a través de mensajes "legítimos" mediante correos electrónicos, redes sociales, SMS, entre otros. Su objetivo es robar credenciales u otro tipo de información de la víctima. Para que el ataque sea efectivo, el enlace debe ser camuflado con un nombre de dominio lo más idéntico posible a la web real; así como también el código fuente (estilos).

**Vishing:** Es otro tipo de ataque fraudulento, con la única diferencia que aquí es llevado mediante una llamada telefónica suplantando la identidad de una persona, empresa u organización. Por ejemplo, yo como atacante me hago pasar por soporte técnico del ISP (Proveedor de Servicios de Internet) y llamó a mi vecino para decirle que he detectado tráfico de red malicioso, y para una revisión de la central necesito que me otorgué las credenciales de su Wi-Fi. Esto puede ir acompañado con un ataque de desautenticación si el alcance lo permite, de tal modo que, el vecino con más confianza me entregará la clave y así yo poder conectarme a su red.

**SMSishing:** Este ataque va de la mano con el primero, solo que aquí el ataque se dirige por mensajes SMS a un usuario simulando ser una entidad legítima. Existen servicios en línea que ofrecen envíos de SMS personalizados a cualquier número, por lo tanto, esta técnica suele ir acompañada con SMS spoofing para suplantar la identidad o hacerse el control del propio número (chip) y obtener los códigos de verificación de sus cuentas personales. Por ejemplo, yo como atacante me hago pasar por un usuario y me contacto con su proveedor de servicio de telecomunicación (Ej. Claro, Movistar, etc) y les explico que me robaron el celular junto con el chip, por lo tanto, quisiera que transfieran mi número antiguo a un nuevo chip que me compré para no perder mis contactos. Automáticamente el chip de la víctima es cancelado y ahora todos sus mensajes me serán transferidos a mi celular, esto solo funciona si se logra convencer al proveedor con la información recabada de la víctima.

**Baiting**: El Baiting comparte similitud con el phishing, busca la atención de los usuarios para hacerles creer que están en un sitio seguro y que por lo tanto, deben hacer clic en el enlace con su máxima confianza. El escenario de ensayo es provocar que esa persona tenga la necesidad de acceder, como lo es el clickbait para ganar visitas en videos; ya sea colocando miniaturas atractivas o títulos engañosos ajeno al contenido real.

**Sextorsión**: La sextorsión es un ataque que va más allá de los nombrados anteriormente, son amenazas de extorción por parte de un atacante hacia la víctima en donde le pide una suma de dinero a cambio de no exponer un video sexual sobre él/ella. Normalmente en la actualidad se han dado miles de casos sobre este tipo de amenazas, pués, hay parejas que se envían mutuamente fotografías o videos desnudos de sí mismo/a a través de redes sociales sin percatarse que su conexión puede estar interceptada, o su dispositivo infectado con un malware (como lo es un spyware) o simplemente utilizar el material como amenaza luego de una ruptura amorosa.

</br>

<h3 align="center">EMAIL SPOOFING</h3>

La suplantación de identidad por email es una forma de ataque cibernético en el que el atacante envía un correo electrónico con una dirección de remitente falsificada. Engaña al destinario haciéndole creer que la fuente es confiable, el ataque es camuflado con direcciones idénticas al remitente original, ya sea una persona conocida u empresa.

<p align="center">
   <img src="https://github.com/R3LI4NT/articulos/blob/main/Pentesting/ING-SOCIAL/img/email_spoofing.png">
</p>

<h1 align="center"></h1>

### CREAR EMAIL SPOOFING CON SET | Automatizado

La herramienta SET (Kit de herramientas de ingeniería social) es un framework para pruebas de penetración de código abierto, diseñada especialmente para la ingeniería social. SET contiene una variedad de sectores de ataques que permite realizar un ataque creíble en poco tiempo.

**Instalar herramienta en Debian:**
```
git clone https://github.com/trustedsec/social-engineer-toolkit
cd social-engineer-toolkit
pip3 install -r requirements.txt
python setup.py
```

</br>

<h1 align="center"></h1>

#### Permitir acceso a aplicaciones menos seguras en GMAIL

Para utilizar su correo de gmail como spoofing es preciso habilitar las aplicaciones menos seguras para que SET tenga acceso y pueda trabajar, ya que google deshabilitó esta opción el 30 de mayo de 2022. Nos dirigimos a las configuraciones de nuestra cuenta **->** Seguridad **->** Acceso a Google y activan la verificación de dos pasos **->** vuelven hacia atrás y se dirigen a Contraseñas de aplicaciones:

![27](https://user-images.githubusercontent.com/75953873/183339894-c491e45d-e2a2-4cd3-8fd5-b9f30dd567b4.png)

En **app** seleccionan correo electrónico y en **dispositivo** como otra:

![28](https://user-images.githubusercontent.com/75953873/183340215-ad284850-41bc-46e1-95ca-51e698b6a9d2.png)

Le agregan el nombre que deseen:

![29](https://user-images.githubusercontent.com/75953873/183340829-31b3f48c-f2b2-4fec-8bbd-da9e5db1f28c.png)

De ahora en adelante esa será la contraseña que ingresarán en la herramienta SET luego de proporcionar su correo electrónico de spoofing.

![30](https://user-images.githubusercontent.com/75953873/183340959-41aaded0-e112-4985-aa39-a36ee3ff6417.png)

<h1 align="center"></h1>

</br>

En distribuciones como Kali Linux ya viene por defecto instalada, ejecutamos "`setoolkit`" en la terminal (modo root) y escogeremos la primera opción:

![1](https://user-images.githubusercontent.com/75953873/183316334-14ab36ee-5549-46f4-ad68-7500bd1b2793.png)

Luego, la quinta opción:

![2](https://user-images.githubusercontent.com/75953873/183316415-dd59d2a9-34a0-4f04-9447-3a2837b6f20c.png)

En la siguiente captura tenemos dos opciones, la primera es para mandar el correo a una sola víctima y la segunda recolectar varios emails de usuarios y mandar el sitio o mensaje engañoso a todos estos. En mi caso, seleccionó la primera:

![3](https://user-images.githubusercontent.com/75953873/183316464-159112a0-a2ce-476e-acc5-ff87a5ad881e.png)

Agregamos la dirección de email de la víctima:

![4](https://user-images.githubusercontent.com/75953873/183316491-c7d38b21-7338-432c-8cd5-b841e878bbd1.png)

Aquí voy a poner una pequeña pausa. Tenemos la posibilidad de mandar el email desde un correo falso creado por nosotros mismos o utilizar nuestro propio servidor SMTP. ¿Qué recomiendo yo? sugiero hacerlo desde un SMTP por la única razón que podemos sustituir nuestra dirección de correo por cualquier otro (Ej: **soporte@facebook**, etc) y se vea mas creíble. No cuento con uno, de todas formas dejaré un video de como crearlo al final del post. Seguiré con la opción uno:

![5](https://user-images.githubusercontent.com/75953873/183316589-10e18f5b-3abe-407f-9aba-51d0bf9d0ce7.png)

Agregamos la dirección de nuestro email que usaremos para suplantar:

![6](https://user-images.githubusercontent.com/75953873/183316671-1b0b8fb2-941b-44e3-bfb1-7728e3162db0.png)

En **FROM NAME** ponemos un nombre cualquiera de la dirección (no necesariamente tiene que ser el por defecto del email), luego de esto, nos pedirá nuestra contraseña del email:

![7](https://user-images.githubusercontent.com/75953873/183316816-42a8dcf2-8c49-4abf-98d2-58c773486a30.png)

Está parte es importante para el atacante. Nos pregunta si deseamos ponerle el **flag** al mensaje para simular que es de alta prioridad lo cual es lo primero que sea hace, **sí**. Posteriormente, nos pide si queremos adjuntar alguna archivo (foto, video, links, etc) como muestra de prueba de "**algo**", esto depende de la ingeniería que se lleva al cabo. Por último, ofrece adjuntar un archivo en línea, cuando haga click se traslade a un servidor, por ejemplo de exploits:

![8](https://user-images.githubusercontent.com/75953873/183317059-61038e4c-620b-4e62-87e3-26bba38b237a.png)

Añadimos el asunto del email. El mensaje puede ser enviado en código **HTML** o texto plano, el html es sospechoso así que no lo recomiendo mucho. Para finalizar, agregamos el cuerpo del mensaje y al terminar introducimos **END** al final, con **ENTER** saltamos a la siguiente línea:

![9](https://user-images.githubusercontent.com/75953873/183317332-9ef498a5-1fb6-4c63-b59e-e5d90fa4a42b.png)

Correo enviado con éxito:

![10](https://user-images.githubusercontent.com/75953873/183317378-0fe5e8ad-fff6-4504-9e3f-ae15e8e9e73f.png)

Del lado de la víctima:

![11](https://user-images.githubusercontent.com/75953873/183319201-f68e75e3-78ff-4d27-8cd5-ecbe64801078.png)

![12](https://user-images.githubusercontent.com/75953873/183320375-daa7d309-d1ec-4fdf-8afe-91aaad7c1a05.png)

Del lado del atacante:

![13](https://user-images.githubusercontent.com/75953873/183320258-39534da9-0ddb-461f-b517-df072ddf01c5.png)

Obviamente el ejemplo anterior es muy sospechoso y por lo tanto la víctima no caerá fácilmente. Démosle un retoque pero esta vez enviando un enlace de phishing para que inicie sesión y capturar las credenciales. Seleccionar la opción 2:

![17](https://user-images.githubusercontent.com/75953873/183321484-e176c692-9470-4614-aa2b-77893e45f442.png)

Luego la opción 3:

![18](https://user-images.githubusercontent.com/75953873/183321538-aa1e93a6-f631-4b64-9658-37a1dc795510.png)

Clonaremos el sitio original, por lo tanto, opción 2:

![19](https://user-images.githubusercontent.com/75953873/183321667-85c112c1-87bc-4089-8e54-c3b6085b9dfe.png)

Aquí les pedirá que ingresen la dirección IP local de su máquina (`ifconfig` para obternerla)  e ingresar la URL real de la web a suplantar (en mi caso Facebook).

![15](https://user-images.githubusercontent.com/75953873/183321715-ad7a3bc0-62aa-4edf-8a0d-d02b1200e014.png)

Automáticamente se generará una plantilla en el servidor local (**/var/www/html**) con el login de Facebook, por lo que la URL quedaría **->** `http://192.168.25.133`. Es muy sospechosa a simple vista y seguro no entrará, para ello existen acortadores en línea para camuflar nuestra web maliciosa; por ejemplo <a href="https://n9.cl/es">n9.cl</a>:

![20](https://user-images.githubusercontent.com/75953873/183323233-bfd06081-051d-4621-b900-75d6dfa5d8c8.png)

URL camuflada: `https://n9.cl/facebook_login__`

Ya al tener todo listo, solo faltaría generar nuevamente el mensaje spoofing y añadir la URL en el mensaje.

![21](https://user-images.githubusercontent.com/75953873/183324077-8e6412cc-d7a6-4827-a669-faaf8954e32e.png)

Del lado de la víctima:

![22](https://user-images.githubusercontent.com/75953873/183324334-ec575174-080a-415e-96c3-33001de5c7b1.png)

![14](https://user-images.githubusercontent.com/75953873/183325053-f4bccb1a-deb4-46f1-aa40-32e4dacccd03.png)

Una vez que acceda al enlace e introduzca sus credenciales, automáticamente nos llegará a la terminal de SET que habíamos generado anteriormente.

Del lado del atacante:

![16](https://user-images.githubusercontent.com/75953873/183324541-02efc94b-7557-480d-a1e2-5321b5da34ea.png)

El ejemplo anterior solo funciona dentro de la red local, para ejecutarlo fuera de LAN hay que convertir nuestro servidor local en un subdominio para que cualquier usuario tenga acceso desde cualquier parte del mundo. Para ello, existen servicios como **Ngrok** o **Cloudflare**, escogeré el primero como alternativa.

Descargar ngrok (es necesario crearse una cuenta para activarlo): https://ngrok.com/download

Crearemos nuevamente la plantilla de facebook con nuestra IP local (`http://192.168.25.133`):

![15](https://user-images.githubusercontent.com/75953873/183321715-ad7a3bc0-62aa-4edf-8a0d-d02b1200e014.png)

Luego iniciaremos Ngrok y convertiremos nuestro servidor local a un servidor público:
```
./ngrok http http://192.168.25.133:80 --host-header="http://192.168.25.133:80"
```
![23](https://user-images.githubusercontent.com/75953873/183341418-4a504c0e-bea7-4e3f-a58b-47a5e40449d1.png)

Nuestro servidor local se conviertio en la dirección **->** `https://70dd-190-134-206-110.sa.ngrok.io/`. Luego clonaremos el script `maskphish` para camuflar nuestro enlace:
```
git clone https://github.com/jaykali/maskphish
cd maskphish
bash maskphish.sh
```
![24](https://user-images.githubusercontent.com/75953873/183338817-3c284c96-c79e-47f0-b8c4-816ffb30a5a9.png)

Ahora nuestro enlace malicioso se ve mucho más creíble **->** `https://facebook.com-login-here@is.gd/OBt5ng`. Ya está listo para ser envíado a la víctima y esperar que inicie sesión.

![25](https://user-images.githubusercontent.com/75953873/183339100-bfb812f7-33a2-4bf0-88d0-d279ef1499d3.png)

![26](https://user-images.githubusercontent.com/75953873/183339411-6054ca18-1cf4-41af-9eaf-3cf71cff53df.png)

<h1 align="center"></h1>

</br>

### CREAR EMAIL SPOOFING CON FIRMA | Manual
El siguiente método lo que cambia es la firma, generalmente las plataformas como Facebook, Instagram, Twitter o cualquier sitio web tienen su propia firma para mostrar su imagen y relevancia. Existen generadores de firmas gratuitas como <a href="https://www.hubspot.es/email-signature-generator">hubspot</a> que permite personalizar los estilos, pero en mi caso me apropiaré de la firma de Facebook por lo que tendré que solicitar un "cambio de contraseña" para que esté me envíe un email y yo poder copiar la firma y modificarla:

![31](https://user-images.githubusercontent.com/75953873/183343532-5f8ce078-a470-4946-a3de-92d243e2d685.png)

Luego agregaré un vínculo al bóton de "Cambiar contraseña", detrás escondere el enlace malicioso generado con SET y convertido a servidor público con Ngrok:

![32](https://user-images.githubusercontent.com/75953873/183343781-1297b27f-3a5e-4289-897e-8ef1829f7a9c.png)

Del lado de la víctima:

![33](https://user-images.githubusercontent.com/75953873/183343904-b6a4115c-cc19-4464-b1c3-eef2d1710c19.png)

Luego de que haga clic sobre él, será redireccionado al vínculo agregado anteriormente:

![34](https://user-images.githubusercontent.com/75953873/183344029-3c1da3ed-8828-4a4c-849e-f370f65cf2eb.png)

![35](https://user-images.githubusercontent.com/75953873/183344048-6eec67de-0d8c-4862-8e0e-e3e611c69b2b.png)

</br>

<h1 align="center"></h1>

Para registrar la firma y que quedé guardada cada vez que envián o responder un email, entonces se dirigiren a **->** Configuración **->** Crear nueva firma

![36](https://user-images.githubusercontent.com/75953873/183344422-3c883d77-ab30-47af-9f48-f585c8e95a67.png)

Le asignan un nombre:

![37](https://user-images.githubusercontent.com/75953873/183344483-fccad87f-776b-4030-9a75-c5b85f2d81aa.png)

Pegan su firma y cambian los valores predeterminados (nombre de la firma creada):

![38](https://user-images.githubusercontent.com/75953873/183344704-b5475638-834c-402e-a084-78c77dbe11e7.png)

Cada vez que redacten un nuevo mensaje o respondan uno, automáticamente la firma se establecerá.

<h1 align="center"></h1>

</br>

#### Datos a tener en cuenta:
- No se olviden de cambiar la foto de perfil.
- Revisar la ortografía.
- Agregar imágenes en caso de que sea necesario y creíble.
- Recabar información sensible de la persona, organización o comunidad para asegurar que el email sea válido.
- Utilizar firmas oficiales.

#### Tutoriales:
- Crear servidor **SMTP**:
  - Con Jenkins: https://www.youtube.com/watch?v=l2h5JR8KyNQ
  - Con SERVER MANAGER Windows 10: https://www.youtube.com/watch?v=PEAO8BXjz9E&t=436s

- Instalar Ngrok: https://www.youtube.com/watch?v=ZPLzPbKKedw

#### Créditos:
- Maskphish: https://github.com/jaykali/maskphish/graphs/contributors

<h1 align="center"></h1>

</br>

<h3 align="center"><ins>ADVERTENCIA<ins></h3>

<h4 align="center">Esto es con fines de aprendizaje, no nos hacemos responsables ni el fundador, ni el creador del tema del mal uso de esta herramienta u información.</h4>



#### ~R3LI4NT~
