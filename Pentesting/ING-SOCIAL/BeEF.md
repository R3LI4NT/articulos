<p align="center">
  <a href="https://github.com/DenverCoder1/readme-typing-svg"><img src="https://readme-typing-svg.herokuapp.com?color=D1F700&width=420&lines=Ataque+de+Browser+Hijacking+[BeEF]"></a>
</p>

<h1 align="center"></h1>

<h3 align="center">¿QUÉ ES EL ATAQUE BROWSER HIJACKING?</h3>

El "hijacking de Browser", en español "Secuestro del Navegador" es un tipo de ataque informático en el que los atacantes modifican la redirección de los servidores DNS. Esto significa que cuando un usuario intenta acceder a un sitio web específico, el servidor DNS les proporciona una dirección IP diferente. Por lo general, estas direcciones IP redirigen a páginas web maliciosas llenas de malware y publicidad que están bajo el control de los atacantes.

**Algunos ejemplos de técnicas de hijacking del navegador incluyen:**

- _Redirección maliciosa:_ Los atacantes pueden alterar la configuración del navegador para redirigir al usuario a sitios web maliciosos, donde pueden intentar robar información personal o instalar malware en el sistema.

- _Secuestro de la página de inicio:_ Los atacantes pueden cambiar la página de inicio predeterminada del navegador a un sitio web no deseado, lo que obliga al usuario a visitar ese sitio cada vez que abre su navegador.

- _Extensiones maliciosas:_ Algunas extensiones o complementos del navegador pueden ser maliciosos y realizar actividades no deseadas en el navegador, como la recopilación de datos personales o la inyección de anuncios no deseados.

- _Phishing:_ Los atacantes pueden utilizar técnicas de phishing para engañar a los usuarios y hacer que ingresen información sensible, como contraseñas o información de tarjetas de crédito, en sitios web falsos que parecen legítimos.

<p align="center">
  <img src="https://github.com/R3LI4NT/articulos/blob/main/Pentesting/ING-SOCIAL/img/Browser_Hijacking.png">
</p>

<h1 align="center"></h1>

### BEEF | The Browser Exploitation Framework

La BeEF es la abreviatura de The Browser Exploitation Framework. Es una herramienta de pruebas de penetración que se centra en el navegador web. Se encuentra incluido de forma predeterminada en Kali Linux, cuyo enfoque principal recae en la identificación y explotación de debilidades presentes en los navegadores web. Como vía de ataque, se aprovecha una vulnerabilidad de tipo XSS (Cross-Site Scripting), que puede manifestarse en su forma reflejada o persistente. Mediante la inclusión de un iframe oculto o la ejecución de un archivo JavaScript (JS), es posible llevar a cabo acciones como la sustracción de credenciales. Adicionalmente, se pueden emplear tácticas de ingeniería social, tales como la solicitud de instalación de certificados de seguridad falsos, actualizaciones ficticias de Flash Player o incluso la simulación de una sesión de Facebook que aparenta haber expirado.

**_Instalar en Debian:_**
```
> git clone https://github.com/beefproject/beef

> cd beef

> sudo ./install
```

Como primer paso modificamos el archivo `config.yaml`.
```
nano config.yaml
```

![1](https://github.com/R3LI4NT/articulos/assets/75953873/521a7f84-27ea-4659-a96f-302edf3dcfb7)

Editamos las líneas de credenciales, en el usuario lo dejamos predeterminado "beef" y en la contraseña establecemos "12345". CTRL + O para guardar los cambios.

![2](https://github.com/R3LI4NT/articulos/assets/75953873/829364fd-04a9-4266-b790-be381ad9bd83)

Iniciamos la herramienta con `./beef`. En caso de que les arroje el siguiente error:

![4](https://github.com/R3LI4NT/articulos/assets/75953873/8084431b-c507-4c55-8d48-7a00dfe02e02)

Deben editar el archivo de `GemFile` y remplazar la línea de `gem 'otr-activerecord', '~> 2.1', '>= 2.1.2'` por `gem 'otr-activerecord', '~> 2.1.1'`. Por último ejecutan **bundle install** y vuelven a iniciar la herramienta.

![3](https://github.com/R3LI4NT/articulos/assets/75953873/3a3003cd-15bf-4391-9699-d9cd90ce5cef)

_**Error solucionado**_: https://github.com/beefproject/beef/issues/2954 

Comenzará a generarse un servidor web local, solo aquellos dispositivos que estén conectados a nuestra red pueden acceder a ese enalce. Por ello, se debe ser cuidadoso cuando se conecte a una Wi-Fi pública. 

![5](https://github.com/R3LI4NT/articulos/assets/75953873/dc244c20-10a1-4c22-a5f0-31baa1cee561)

Aquí debemos de ingresar las credenciales del archivo de configuración.

![6](https://github.com/R3LI4NT/articulos/assets/75953873/e42f2176-3b9f-46c1-a3b0-c3e0d0831bef)

Este es el panel de administración de BeEF (lado del atacante), para extraer información por medio de un link hay que copiar el enlace que genera la herramienta (here) y enviarlo a la víctima. 

![8](https://github.com/R3LI4NT/articulos/assets/75953873/b4135e18-bbdc-46b4-b8a6-8e9778355edb)

Una vez que la víctima acceda al link, automáticamente nos aparecerá los navegadores "enganchados" en la parte superior a la izquierda. Los navegadores enganchados aparecerán en estado en línea o fuera de línea, dependiendo de qué tan recientemente hayan sondeado el marco. Captura la información de su sistema operativo, dirección IP, ubicación geográfica, entre otras.

![9](https://github.com/R3LI4NT/articulos/assets/75953873/82ee31c0-0020-442a-b8b8-ec414f5a42be)

En el apartado de `commands` es donde podemos "juguetear" con el navegador de la víctima. A modo de ejemplo enviaré un diálogo de alerta para dar una advertencia o aviso.

![10](https://github.com/R3LI4NT/articulos/assets/75953873/400da218-2d25-46ea-bd2e-2ae63cd9eb31)

![11](https://github.com/R3LI4NT/articulos/assets/75953873/a314994c-e5c4-4f97-a0be-ba28e3356dfa)

Con el módulo de "Redirect Browser" podemos redireccionar al usuario hacia otra URL, generalmente los atacantes se apropian de está función para cargar malware o phishing. 

![12](https://github.com/R3LI4NT/articulos/assets/75953873/9232c439-3d82-4863-88cf-63db97a76392)

El módulo "Get Cookie" roba la cookie de la página actual en la que se encuentre el usuario.

![13](https://github.com/R3LI4NT/articulos/assets/75953873/67b1a4a4-9751-41ee-9cdb-1e1ff45972f1)

Otro módulo importante es "Get Geolocation" de la categoría de "Hosts", como su nombre lo indica, sirve para obtener la ubicación de la víctima a través del uso de una API.

![14](https://github.com/R3LI4NT/articulos/assets/75953873/dfdb0850-e253-41ac-bd32-a2caccdc214c)

![15](https://github.com/R3LI4NT/articulos/assets/75953873/ec027cf6-b027-4847-942c-548ef93dd1b5)

El módulo "Lcamtuf Download" de la categoría de "Social Engineering" permite cargar un archivo malicioso para que la víctima lo descargue desde su navegador, se debe especificar la ruta del mismo.

![16](https://github.com/R3LI4NT/articulos/assets/75953873/74150185-c5e9-4cae-995e-bddfe45bd7a4)
