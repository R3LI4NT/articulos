<p align="center">
  <a href="https://github.com/DenverCoder1/readme-typing-svg"><img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&pause=1000&color=D1F700&width=700&lines=Ataque+de+Directorio+Transversal+%2F+Path+Traversal"></a>
</p>

<h1 align="center"></h1>

<h3 align="center"><ins>VULNERABILIDAD de DIRECTORIO TRANSVERSAL</ins></h3>

El reccorrido de directorio (también conocido como cruce de rutas de archivos) es una vulnerabilidad de seguridad web que permite a un atacante leer archivos arbitrarios en el servidor que ejecuta una aplicación. Es una vulnerabilidad crítica que permite a un atacante apropiarse de archivos confidenciales del sistema operativo, incluir código y datos de la aplicación, escribir archivos arbitrarios que le permita modificar los datos de la aplicación y obtener control total del servidor.

Mediante la manipulación de variables que hacen referencia a archivos con secuencia "**punto-punto-barra**" (`../`) y sus variaciones, es posible acceder a archivos y directorios que se almacenan fuera de la carpeta raíz web, incluido el código fuente o la configuración de la aplicación. Cabe mencionar que el acceso a ciertos archivos está limitado por los privilegios de acceso del sistema operativo. Existe la posibilidad que un atacante pueda incluir un archivo o recurso remoto que usted no autorizó (scripts, temas, imágenes, recursos locales, etc).

#### Ejemplo de PATH TRAVERSAL

Una vulnerabilidad de salto de directorios consiste en construir la ruta de descarga de un fichero mediante el campo `input` ingresado por el usuario. La falta de validación del `input` es la clave para poder ser explotada y adueñarse de información sensible nombrada anteriormente. Cuando la dirección URL de un subdirectorio de un sitio web se ve de la siguiente forma, posiblemente sea vulnerable a un path traversal:

```
https://website.com/?file=filename.php
```

### Vectores de ATAQUE

Para acceder a ficheros o ejecutar comandos en cualquier parte del sistema un atacante hará uso de secuencias de caracteres especiales, comúnmente como se menciono antes "**punto-punto-barra**" (`../`). Esto permitiría que el atacante comprometa el sistema y pueda navegar por toda la estructura de directorios de este, ganando acceso a ficheros del sistema, código fuente, entre otras. Los ataques de directorio transversal suelen ir acompañados de otras vulnerabilidad como <a href="https://github.com/R3LI4NT/articulos/blob/main/Pentesting/WEB/LocalFileInclusion.md">**Local File Inclusion (LFI)**</a> y/o **Remote File Inclusion (RFI)**.

Para identificar que parte de las aplicaciones son vulnerables, el atacante necesita comprobar todas las vías que acepten datos del usuario. Estas vías abarcan consultas GET, POST, HTTP y hasta formularios de subidas de ficheros. En el siguiente ejemplo se observa un código inseguro PHP, la secuencia de comandos pasa un valor de solicitud HTTP no desinfectado directamente a la función de `PHP include()`. El script intentará incluir cualquier ruta/nombre de archivo que se pase como parámetro.

```php
$file = $_GET['file'];
include($file);
```

<p align="center">
  <img src="https://github.com/R3LI4NT/articulos/blob/main/Pentesting/WEB/img/pathTraversal.png">
</p>

</br>
